# excusApp - Generador de excusas ğŸ­

<img width="1024" height="1024" alt="logo" src="https://github.com/user-attachments/assets/20661cb6-fdb2-4e1a-b9cf-90b00b4bf96a" />

Esta es una aplicaciÃ³n Android para generar excusas creativas para cualquier situaciÃ³n del dÃ­a a dÃ­a. Â¡Nunca mÃ¡s te quedes sin una buena excusa!

## âœ¨ CaracterÃ­sticas principales

### ğŸ² GeneraciÃ³n de excusas
- **ğŸ“š Excusas predefinidas** organizadas por categorÃ­as:
  - ğŸ’¼ Trabajo
  - ğŸ“š Estudio
  - ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ Familia
  - ğŸ‰ Amigos
  - ğŸ’• Citas
  - ğŸŒŸ General
- **ğŸ¤– GeneraciÃ³n con IA** usando Google Gemini para excusas Ãºnicas y personalizadas (Es necesaria una API KEY Gratuita)
- **ğŸ˜„ Frases motivacionales irÃ³nicas** que acompaÃ±an cada excusa generada para hacerla mÃ¡s divertida

### ğŸ–¼ï¸ Crear memes con tus excusas
Convierte tus excusas en memes utilizando estas **cuatro opciones**:

1. **âœ¨ Generar automÃ¡tico**
   - Crea una imagen con fondo degradado morado
   - Incluye emoji de la categorÃ­a
   - Texto con la excusa
   - Frase irÃ³nica en la parte inferior
   - Marca de agua "excusApp"
   - Formato optimizado para redes sociales (1080x1080)

2. **âœï¸ Escribir excusa personalizada**
   - Escribe tu propia excusa antes de seleccionar la imagen
   - Elige entre tomar una foto o seleccionar de galerÃ­a
   - Ideal para situaciones especÃ­ficas

3. **ğŸ“· Desde galerÃ­a**
   - Selecciona cualquier foto de tu galerÃ­a
   - Elige usar la excusa generada o escribir una nueva
   - Vista previa editable con opciones de posicionamiento
   - La app la convierte en un meme estilo clÃ¡sico
   - Texto arriba y abajo con fondo negro semi-transparente
   - La excusa se superpone a tu imagen

4. **ğŸ“¸ Tomar foto**
   - Abre la cÃ¡mara y toma una foto al instante
   - Elige la excusa o escribe una personalizada
   - Vista previa y ediciÃ³n antes de compartir
   - Perfecto para memes con contexto real

### ğŸ¨ Editor de memes (NUEVO)
Cuando seleccionas una imagen desde galerÃ­a o cÃ¡mara, accedes a una pantalla de previsualizaciÃ³n donde puedes:
- **ğŸ“ Editar el texto** de la excusa antes de generar el meme
- **â¬†ï¸â¬‡ï¸ Elegir posiciÃ³n del texto**: Arriba o Abajo
- **ğŸ‘ï¸ Previsualizar** el resultado antes de compartir
- **âœ¨ Texto mejorado**: Sombra sutil en lugar de borde grueso para mejor legibilidad
- **ğŸ¯ Layout optimizado**: Los elementos se distribuyen correctamente sin solaparse

### ğŸ“¤ Compartir y copiar
- **ğŸ“‹ Copiar al portapapeles** para pegar en cualquier lugar
- **ğŸ“± Compartir como texto** en redes sociales, WhatsApp, email, etc.
- **ğŸ¨ Compartir como imagen/meme** en formato optimizado para redes sociales (1080x1080)

### ğŸ¨ Interfaz y experiencia
- **ğŸŒ“ Selector de tema** personalizable con tres opciones:
  - â˜€ï¸ **Tema Claro**: Interfaz luminosa
  - ğŸŒ™ **Tema Oscuro**: Modo nocturno para los ojos
  - ğŸ“± **SegÃºn el sistema**: Se adapta automÃ¡ticamente a tu configuraciÃ³n de Android
- **Material Design 3** con componentes modernos
- **ğŸ¬ Splash screen** con logo y crÃ©ditos (3.5 segundos)
- **âš¡ Animaciones suaves** al generar y mostrar excusas
- **ğŸ”„ Interfaz moderna** e intuitiva

### âš™ï¸ ConfiguraciÃ³n avanzada
- **ğŸŒ“ Selector de tema** en configuraciÃ³n (Claro/Oscuro/Sistema)
- **ğŸ”‘ API Key personalizable** desde la interfaz de la app
- **âœ… VerificaciÃ³n de API** con botÃ³n de prueba
- **ğŸ”„ Fallback automÃ¡tico** a excusas predefinidas si no hay conexiÃ³n o API
- **ğŸ’¾ Persistencia de configuraciÃ³n**: Tu tema y API key se guardan automÃ¡ticamente
- **â„¹ï¸ Pantalla "Acerca de"** con informaciÃ³n del proyecto y enlace a GitHub

## ğŸ¯ Ejemplos de frases irÃ³nicas

Cada vez que generas una excusa, se muestra una frase motivacional irÃ³nica aleatoria:

- ğŸ’ª "La honestidad estÃ¡ sobrevalorada"
- ğŸ­ "Ser creativo nunca fue tan fÃ¡cil"
- ğŸ† "CampeÃ³n de las excusas desde 2025"
- ğŸ“ "Doctor honoris causa en excusologÃ­a"
- ğŸŒ™ "La verdad duerme, las excusas trabajan 24/7"
- ğŸ¬ "Premio Oscar a mejor actuaciÃ³n improvisada"

...Â¡y 12 mÃ¡s!

## ğŸ“¸ Capturas de pantalla

<img width="405" height="897" alt="pantalla-inicial-excusapp" src="https://github.com/user-attachments/assets/b7bfc71a-bc59-4bf3-a6d2-11682d31780f" />

### Pantalla principal
- Logo de la app
- Selector de categorÃ­as con chips
- Tarjeta de visualizaciÃ³n de excusas con emoji
- Switch para alternar entre modo predefinido e IA
- Botones de acciÃ³n (Copiar, Compartir, Compartir como Imagen)

### Crear memes

<img width="398" height="896" alt="compartir-excusa" src="https://github.com/user-attachments/assets/5020d95c-d78f-444c-9599-1c2c83dad251" />

- DiÃ¡logo con 3 opciones de creaciÃ³n
- GeneraciÃ³n automÃ¡tica con diseÃ±o
- IntegraciÃ³n con cÃ¡mara y galerÃ­a
- Texto estilo meme con fondo negro semi-transparente

### ConfiguraciÃ³n

<img width="403" height="889" alt="configuracion-excusapp" src="https://github.com/user-attachments/assets/150e4bbe-17e7-4a24-8d46-8066009865b0" />

- Campo para ingresar API key de Gemini
- BotÃ³n para probar la API
- Indicador de API configurada/no configurada
- Instrucciones paso a paso

## ğŸ” ConfiguraciÃ³n de API Key

Hay dos formas de configurar tu API key:

### OpciÃ³n 1: Configurar desde la App (RECOMENDADO âœ…)
1. Instala la aplicaciÃ³n
2. Ve a **ConfiguraciÃ³n** (botÃ³n de engranaje flotante)
3. Ingresa tu API key de Gemini
4. Pulsa "Guardar"
5. (Opcional) Pulsa "Probar API" para verificar que funciona

**Ventaja:** Tu API key se guarda localmente en el dispositivo y NUNCA se sube a Git.

### OpciÃ³n 2: Configurar en el CÃ³digo (Solo para desarrollo)
Si quieres tener una API key por defecto en el cÃ³digo:

1. Ve a `app/src/main/java/com/example/excusas/utils/PreferencesManager.kt`
2. Busca la lÃ­nea:
   ```kotlin
   private const val DEFAULT_API_KEY = "AIzaSyBTUAPIKeyAquÃ­"
   ```
3. Reemplaza `"AIzaSyBTUAPIKeyAquÃ­"` con tu API key real


### ğŸ”‘ CÃ³mo obtener una API Key de Gemini (GRATIS)

1. Ve a [Google AI Studio](https://aistudio.google.com/apikey)
2. Inicia sesiÃ³n con tu cuenta de Google
3. Clic en "Create API Key" o "Get API Key"
4. Copia la clave generada (formato: `AIzaSy...`)
5. PÃ©gala en la configuraciÃ³n de la app

**Nota:** La API de Gemini tiene un tier gratuito generoso para uso personal.

## ğŸ› ï¸ TecnologÃ­as utilizadas

### Backend & LÃ³gica
- **Kotlin** - Lenguaje principal (100% Kotlin)
- **Coroutines** - ProgramaciÃ³n asÃ­ncrona
- **Retrofit** - Cliente HTTP para consumir APIs REST
- **OkHttp** - Cliente HTTP con logging
- **Gson** - SerializaciÃ³n/deserializaciÃ³n JSON

### UI/UX
- **Material Design 3** - Sistema de diseÃ±o moderno
- **View Binding** - VinculaciÃ³n de vistas type-safe
- **ConstraintLayout** - Layouts flexibles y responsive
- **CoordinatorLayout** - FABs y comportamientos avanzados
- **Material Components** - Chips, Cards, Buttons, RadioButtons, etc.
- **AppCompatDelegate** - Soporte para temas claro/oscuro

### Funcionalidades
- **Google Gemini API** - GeneraciÃ³n de texto con IA (modelo gemini-2.0-flash-exp)
- **SharedPreferences** - Almacenamiento local de configuraciÃ³n y preferencias de tema
- **FileProvider** - Compartir archivos entre apps de forma segura
- **Canvas & Bitmap** - GeneraciÃ³n de imÃ¡genes y memes con texto
- **Paint & Shadow** - Renderizado de texto con sombras para mejor legibilidad
- **ExifInterface** - CorrecciÃ³n automÃ¡tica de orientaciÃ³n de imÃ¡genes
- **ActivityResultContracts** - Manejo moderno de permisos y resultados
- **Application Class** - AplicaciÃ³n del tema al iniciar la app

### Permisos
- `INTERNET` - Conectar con la API de Gemini
- `ACCESS_NETWORK_STATE` - Verificar conexiÃ³n
- `CAMERA` - Tomar fotos para memes
- `READ_MEDIA_IMAGES` - Acceder a galerÃ­a (Android 13+)
- `READ_EXTERNAL_STORAGE` - Acceder a galerÃ­a (Android 12 y anteriores)

## ğŸ“‚ Estructura del proyecto

```
excusApp/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ src/main/
â”‚   â”‚   â”œâ”€â”€ java/com/example/excusas/
â”‚   â”‚   â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ GeminiApiService.kt      # Interfaz Retrofit para Gemini API
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ GeminiModels.kt          # Modelos de datos para API
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ RetrofitClient.kt        # Cliente Retrofit configurado
â”‚   â”‚   â”‚   â”œâ”€â”€ model/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ExcuseCategory.kt        # Modelo de categorÃ­a
â”‚   â”‚   â”‚   â”œâ”€â”€ repository/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ExcuseRepository.kt      # LÃ³gica de negocio
â”‚   â”‚   â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ PreferencesManager.kt    # GestiÃ³n de SharedPreferences y tema
â”‚   â”‚   â”‚   â”œâ”€â”€ MainActivity.kt              # Pantalla principal
â”‚   â”‚   â”‚   â”œâ”€â”€ PreviewActivity.kt           # Editor de memes con vista previa (NUEVO)
â”‚   â”‚   â”‚   â”œâ”€â”€ SplashActivity.kt            # Splash screen inicial
â”‚   â”‚   â”‚   â”œâ”€â”€ SettingsActivity.kt          # ConfiguraciÃ³n de API y tema
â”‚   â”‚   â”‚   â”œâ”€â”€ AboutActivity.kt             # Acerca de la app
â”‚   â”‚   â”‚   â”œâ”€â”€ ImageUtils.kt                # Utilidades para procesamiento de imÃ¡genes (NUEVO)
â”‚   â”‚   â”‚   â””â”€â”€ ExcusasApplication.kt        # Clase Application para aplicar tema (NUEVO)
â”‚   â”‚   â””â”€â”€ res/
â”‚   â”‚       â”œâ”€â”€ drawable/
â”‚   â”‚       â”‚   â”œâ”€â”€ logo.png                 # Logo de la aplicaciÃ³n
â”‚   â”‚       â”‚   â””â”€â”€ ic_launcher_*.xml        # Iconos adaptativos
â”‚   â”‚       â”œâ”€â”€ layout/
â”‚   â”‚       â”‚   â”œâ”€â”€ activity_main.xml        # Layout principal
â”‚   â”‚       â”‚   â”œâ”€â”€ activity_preview.xml     # Layout editor de memes (NUEVO)
â”‚   â”‚       â”‚   â”œâ”€â”€ activity_splash.xml      # Layout splash
â”‚   â”‚       â”‚   â”œâ”€â”€ activity_settings.xml    # Layout configuraciÃ³n (con selector tema)
â”‚   â”‚       â”‚   â””â”€â”€ activity_about.xml       # Layout acerca de
â”‚   â”‚       â”œâ”€â”€ mipmap-*/                    # Iconos de launcher
â”‚   â”‚       â”œâ”€â”€ values/
â”‚   â”‚       â”‚   â”œâ”€â”€ strings.xml              # Todas las strings (incluyendo tema)
â”‚   â”‚       â”‚   â”œâ”€â”€ colors.xml               # Paleta de colores
â”‚   â”‚       â”‚   â””â”€â”€ themes.xml               # Temas Material 3 (claro/oscuro)
â”‚   â”‚       â””â”€â”€ xml/
â”‚   â”‚           â””â”€â”€ file_paths.xml           # ConfiguraciÃ³n FileProvider
â”‚   â””â”€â”€ build.gradle.kts                     # Dependencias y configuraciÃ³n (APK renombrado)
â”œâ”€â”€ gradle/
â”‚   â””â”€â”€ libs.versions.toml                   # CatÃ¡logo de versiones
â””â”€â”€ README.md                                # Este archivo
```

## ğŸ†• Novedades en esta versiÃ³n

### Mejoras de interfaz
- âœ¨ **Editor de memes completo**: Nueva pantalla PreviewActivity con controles intuitivos
- ğŸ¨ **Texto mejorado**: Sombra sutil en lugar de borde grueso brillante (mucho mÃ¡s legible)
- ğŸ“ **Layout corregido**: Los elementos ahora se distribuyen correctamente sin solaparse
- ğŸŒ“ **Selector de tema**: Elige entre claro, oscuro o automÃ¡tico segÃºn el sistema
- ğŸ¯ **Mejor UX**: BotÃ³n de compartir deshabilitado hasta generar la previsualizaciÃ³n

### Funcionalidades nuevas
- ğŸ“ **EdiciÃ³n de texto**: Modifica la excusa antes de generar el meme final
- â¬†ï¸â¬‡ï¸ **Posicionamiento de texto**: Elige si el texto va arriba o abajo de la imagen
- ğŸ‘ï¸ **Vista previa en tiempo real**: Ve el resultado antes de compartir
- ğŸ”„ **Persistencia de tema**: Tu preferencia de tema se guarda automÃ¡ticamente
- ğŸ“¦ **APK renombrado**: El archivo se genera como `excusApp-debug.apk` automÃ¡ticamente

### Mejoras tÃ©cnicas
- ğŸ—ï¸ **ExcusasApplication**: Clase Application que aplica el tema al inicio
- ğŸ–¼ï¸ **ImageUtils**: MÃ³dulo dedicado para procesamiento de imÃ¡genes
- ğŸ” **Permisos mejorados**: FLAG_GRANT_READ_URI_PERMISSION para compartir URIs
- ğŸ“Š **Logging detallado**: Logs para facilitar debugging de imÃ¡genes
- âœ… **Validaciones robustas**: Mejor manejo de errores y casos extremos

## ğŸ“± Uso de la aplicaciÃ³n

### Generar una excusa
1. Abre la aplicaciÃ³n
2. Selecciona una categorÃ­a (Trabajo, Estudio, etc.)
3. Pulsa el botÃ³n "Generar Excusa" o activa el modo IA y pulsa "Generar con IA ğŸ¤–"
4. Â¡Disfruta de tu excusa creativa con una frase irÃ³nica!

### Crear un meme con imagen personalizada
1. Genera o escribe una excusa
2. Pulsa el botÃ³n "Compartir como Imagen"
3. Elige una opciÃ³n:
   - **Generar AutomÃ¡tico**: Crea una imagen con diseÃ±o predefinido
   - **Escribir mi propia excusa**: Escribe primero, luego elige imagen
   - **Desde GalerÃ­a**: Selecciona una foto existente
   - **Tomar Foto**: Usa la cÃ¡mara
4. Si elegiste galerÃ­a o cÃ¡mara:
   - Se abre la pantalla de **previsualizaciÃ³n**
   - Edita el texto de la excusa si lo deseas
   - Elige si el texto va **Arriba** o **Abajo**
   - Pulsa **"Generar previsualizaciÃ³n"** para ver el resultado
   - Si te gusta, pulsa **"Compartir meme"**
5. Comparte en tus redes sociales favoritas

### Cambiar el tema de la aplicaciÃ³n
1. Ve a **ConfiguraciÃ³n** (botÃ³n flotante con âš™ï¸)
2. En la secciÃ³n **"Apariencia"**, elige:
   - â˜€ï¸ **Claro** - Fondo blanco
   - ğŸŒ™ **Oscuro** - Fondo negro
   - ğŸ“± **SegÃºn el sistema** - Se adapta automÃ¡ticamente
3. El cambio se aplica inmediatamente
4. Tu preferencia se guarda para futuras sesiones

### Configurar API de Gemini
1. Ve a ConfiguraciÃ³n
2. Ingresa tu API key de Gemini
3. (Opcional) Pulsa "Probar API" para verificar
4. Pulsa "Guardar"
5. Activa el switch de IA en la pantalla principal

## ğŸ“¥ InstalaciÃ³n

### Descargar APK
1. Ve a la secciÃ³n [Releases](../../releases) de este repositorio
2. Descarga el archivo `excusApp-debug.apk` (o `excusApp-release.apk`)
3. Instala el APK en tu dispositivo Android
4. (Puede que necesites habilitar "Instalar apps de origen desconocido" en configuraciÃ³n)

### Compilar desde cÃ³digo fuente
```bash
# Clonar el repositorio
git clone https://github.com/tuusuario/excusas.git
cd excusas

# Compilar APK de debug
./gradlew assembleDebug

# El APK estarÃ¡ en: app/build/outputs/apk/debug/excusApp-debug.apk

# Compilar APK de release
./gradlew assembleRelease

# El APK estarÃ¡ en: app/build/outputs/apk/release/excusApp-release.apk
```

## ğŸ¤ Contribuir

Las contribuciones son bienvenidas. Si quieres mejorar la app:

1. Haz fork del proyecto
2. Crea una rama para tu feature (`git checkout -b feature/AmazingFeature`)
3. Commit tus cambios (`git commit -m 'Add some AmazingFeature'`)
4. Push a la rama (`git push origin feature/AmazingFeature`)
5. Abre un Pull Request

## ğŸ“„ Licencia

Este proyecto estÃ¡ bajo la Licencia MIT - ver el archivo [LICENSE](LICENSE) para mÃ¡s detalles.

## ğŸ‘¨â€ğŸ’» Autor

**entreunosyceros.net**

- GitHub: [@entreunosyceros](https://github.com/entreunosyceros)
- Web: [entreunosyceros.net](https://entreunosyceros.net)

## ğŸ™ Agradecimientos

- [Google Gemini AI](https://ai.google.dev/) por la API gratuita
- [Material Design](https://m3.material.io/) por el sistema de diseÃ±o
- Comunidad Android por las excelentes bibliotecas

---

**Nota:** Esta aplicaciÃ³n es solo para fines de entretenimiento y educativos. Ãšsala responsablemente ğŸ˜‰
